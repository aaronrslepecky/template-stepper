# Development stage
FROM node:18-alpine

# Add build arguments with default values
ARG TEMPLATE_ID=080f31ca-972e-4ddb-b228-5ea862d82125
ARG COMPANY_ID=410
ARG API_KEY=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkNERHpiUE9pbmlmdWJONjRjeEdNaSJ9.eyJodHRwczovL3RpZ2VycGlzdG9sLmNvbS9jbGFpbXMvZ2l2ZW5fbmFtZSI6IkFhcm9uIiwiaHR0cHM6Ly90aWdlcnBpc3RvbC5jb20vY2xhaW1zL2ZhbWlseV9uYW1lIjoiU2xlcGVja3kiLCJodHRwczovL3RpZ2VycGlzdG9sLmNvbS9jbGFpbXMvY29ubmVjdGlvbiI6Imdvb2dsZS1vYXV0aDIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhYXJvbi5zbGVwZWNreUB0aWdlcnBpc3RvbC5jb20iLCJodHRwczovL3d3dy50aWdlcnBpc3RvbC5jb20vY2xhaW1zL2xhbmd1YWdlIjoiZW4tVVMiLCJodHRwOi8vd3d3LnRpZ2VycGlzdG9sLmNvbS9jbGFpbXMvdHlwZSI6MSwiaHR0cHM6Ly90aWdlcnBpc3RvbC5jb20vY2xhaW1zL3BhcnRuZXJzIjpbXSwiaHR0cHM6Ly90aWdlcnBpc3RvbC5jb20vY2xhaW1zL2RpZnkiOi0xLCJodHRwOi8vd3d3LnRpZ2VycGlzdG9sLmNvbS9jbGFpbXMvYWNjZXNzIjotMSwiaHR0cHM6Ly90aWdlcnBpc3RvbC5jb20vY2xhaW1zL2N1cnJlbnRDb21wYW55SWQiOiI0MTAiLCJodHRwOi8vd3d3LnRpZ2VycGlzdG9sLmNvbS9jbGFpbXMvY29tcGFueUlkIjoiNDEwIiwiaHR0cDovL3d3dy50aWdlcnBpc3RvbC5jb20vY2xhaW1zL2F1dGgwSWQiOiJnb29nbGUtb2F1dGgyfDExNTA0OTU5OTAzNjQzNzI0MTQ3NyIsImh0dHBzOi8vdGlnZXJwaXN0b2wuY29tL2RpZnl1dWlkIjoiZ29vZ2xlLW9hdXRoMnwxMTUwNDk1OTkwMzY0MzcyNDE0NzciLCJodHRwczovL3RpZ2VycGlzdG9sLmNvbS9jbGFpbXMvcm9sZXMiOlsiUm9vdCJdLCJodHRwOi8vdGlnZXJwaXN0b2wuY29tL2NsYWltcy9hY2Nlc3MiOlsiUm9vdCJdLCJodHRwczovL3RpZ2VycGlzdG9sLmNvbS9hdXRob3JpemF0aW9uIjp7InBlcm1pc3Npb25zIjpbXX0sImdpdmVuX25hbWUiOiJBYXJvbiIsImZhbWlseV9uYW1lIjoiU2xlcGVja3kiLCJuaWNrbmFtZSI6ImFhcm9uLnNsZXBlY2t5IiwibmFtZSI6IkFhcm9uIFNsZXBlY2t5IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lLSF9EaG5zYWZPZWlycVF3Q05UZVRncUVzbmktQ1U0bjVYMWZCUHY0cFRzdTR2QXF3PXM5Ni1jIiwidXBkYXRlZF9hdCI6IjIwMjUtMDQtMjJUMTc6Mjg6NDQuNTgzWiIsImlzcyI6Imh0dHBzOi8vdGlnZXJwaXN0b2wtcHJvZC51cy5hdXRoMC5jb20vIiwiYXVkIjoicWFiS3hQWFd4WTA4bmZtUEFibmNhc0w3M1BaaUZJMUsiLCJzdWIiOiJnb29nbGUtb2F1dGgyfDExNTA0OTU5OTAzNjQzNzI0MTQ3NyIsImlhdCI6MTc0NTM1MTI1NywiZXhwIjoxNzQ1Mzg3MjU3LCJzaWQiOiI2ODdKU3otUU1uWklEcUVHcDFBTVBPeWtqSUZYcmR5aSJ9.WI_G2WAtZRkuHHQmPPwWELHj5Y7IdTi2EOt6O1ztgIOdhBj1RrchvAlYSl8PwR0AMfwHcoaC__r_-MSizpqGvzSaete91ecEAOgz_v9zlnutMWV_S3Ot2maVNCQboJDJUdmuS_v6XesoIilrtPwhif27-EZ5euKHC7yychiEW6Acv-hPfuvX2yzQ_1XEZkt0HqmOfqjxo_vK8IEkbJOssmQ72MPGpSxDI13DDG4Sye8S9oIi1DuEqTpNTOxYZDVcv2p4cn7f6iwhoTzMDU6P_QgeSJuFH7HVwJJO0D_xXBY-SD-dCKlTIHk1vkH6twgp1uEKL-3HF8yeaZ5j4eT08Q
# Set environment variables for React app
ENV REACT_APP_TEMPLATE_ID=$TEMPLATE_ID
ENV REACT_APP_COMPANY_ID=$COMPANY_ID
ENV REACT_APP_API_KEY=$API_KEY

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm install

# Copy source code
COPY . .

# Expose port 3000
EXPOSE 3000

# Start the development server
CMD ["npm", "start"] 